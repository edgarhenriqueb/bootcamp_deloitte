<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistema CRUD de Usuários</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Sistema CRUD de Usuários</h1>
        </header>
        <nav class="tabs">
            <button class="tab-button active" onclick="abrirAba('cadastro')" id="btn-cadastro">Cadastro</button>
            <button class="tab-button" onclick="abrirAba('pesquisa')" id="btn-pesquisa">Pesquisa</button>
        </nav>
        <main>
            <section id="tab-cadastro" class="tab-panel active">
                <div id="mensagem-cadastro" class="mensagem oculto"></div>
                <div class="card">
                    <h2 id="form-titulo">Cadastrar Novo Usuário</h2>
                    <form id="usuario-form">
                        <div class="form-row">
                            <label for="nome">Nome</label>
                            <input type="text" id="nome" name="nome" placeholder="Digite o nome" required>
                            <small class="error" id="nome-error"></small>
                        </div>
                        <div class="form-row">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="seu@email.com" required>
                            <small class="error" id="email-error"></small>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary" id="btn-submit">Cadastrar</button>
                            <button type="button" class="btn" id="btn-cancelar" onclick="cancelarEdicao()">Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>
            <section id="tab-pesquisa" class="tab-panel">
                <div class="card">
                    <div class="search-container">
                        <div class="search-box">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input type="text" id="search-input" placeholder="Pesquisar por nome, email ou ID..." oninput="filtrarUsuarios()">
                        </div>
                    </div>
                    <div id="loading" class="oculto">Carregando...</div>
                    <div id="mensagem" class="mensagem oculto"></div>
                    <div id="lista-vazia" class="lista-vazia-msg oculto">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <h3>Nenhum usuário encontrado</h3>
                        <p>Não há usuários cadastrados no sistema ou nenhum resultado corresponde à sua pesquisa.</p>
                    </div>
                    <div class="table-responsive">
                        <table id="usuarios-table" class="table oculto">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="usuarios-tbody">
                            </tbody>
                        </table>
                    </div>
                    <div class="footer-row">
                        <div class="result-counter">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            <span id="total-encontrados">0 usuário(s) encontrado(s)</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div id="modal-confirmacao" class="modal oculto">
            <div class="modal-content">
                <p id="modal-mensagem"></p>
                <div class="modal-actions">
                    <button class="btn btn-danger" id="btn-confirmar-exclusao">Sim, excluir</button>
                    <button class="btn" onclick="fecharModal()">Cancelar</button>
                </div>
            </div>
        </div>
        <div id="modal-edicao" class="modal oculto">
            <div class="modal-content">
                <h3>Editar Usuário</h3>
                <form id="form-edicao">
                    <div class="form-row">
                        <label for="edit-nome">Nome</label>
                        <input type="text" id="edit-nome" required>
                        <small class="error" id="edit-nome-error"></small>
                    </div>
                    <div class="form-row">
                        <label for="edit-email">Email</label>
                        <input type="email" id="edit-email" required>
                        <small class="error" id="edit-email-error"></small>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Salvar</button>
                        <button type="button" class="btn" onclick="fecharModalEdicao()">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
        <footer>
            <p>Aplicação de exemplo usando Spring Boot e H2</p>
        </footer>
    </div>
    <script src="app.js"></script>
</body>
</html>
